(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lazy-loaded-component"],{1800:function(t,e,i){},2240:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RkNDRjlEQTlDOUQxMUU4OTc1RERDQTcxMUE5MUE3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RkNDRjlEQjlDOUQxMUU4OTc1RERDQTcxMUE5MUE3MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZGQ0NGOUQ4OUM5RDExRTg5NzVERENBNzExQTkxQTczIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZGQ0NGOUQ5OUM5RDExRTg5NzVERENBNzExQTkxQTczIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YVwEagAABBZJREFUeNrEWc1LG1EQn93EKESLHzV+ggjVtvamFsGjh+JFKXrqF16EKhZv/QfaYy9KK1YUPbRqQRBKUURE9NIqWq9Wi2hBbPxCWj+T7GY7s45i1d19u4lx4HdIMu+93+6bN/ObF2mvsREcmAtRiqhAlCDuIHIRiQgV8RexjviB+I4YR8zyb7bMbdM/D9GEeIbINCF/k3EPUcvf+xEfEG2IX6ILyoJ+PsR7xE/ESxNyZpbJY3/yXL5oEXyKmEc8R8RB5BbHc/3guR0T9CA6eVtSIfqWwnN38lq2CHoRXxD1cPVWz2t5RQnS0wwiHkDs7AGv6REh2BZjcmdJtlkRfBKjbTXb7idGBOnYv4XrN+KQcRnB13yyrtuIw6uTDxKXujxOoKZ5TnK5QEpLAykVs044DNr+Pmibm6AFg+cCRwY5KwtchYUgeb2gbW+DurwM2sYGaDhOwBTELao4J6WuyYqcnJkJnpoacBUUAMTHA2gaTqNAGAkqX7+CMjUF2sGBTshTWwvuUizV7jOVFH3V+XkIDgxAeGtLpAS/oMpDb5Bq56pZ+ZJ9Pkhobj5+cwamra1B8PNniKusBDk/39hvZwcC7e2grq5akaTanUsxWGZaW3G7PNXVpuT07c/OhviGBlNyul9KCnjq6kBKSBCp3WUySyZjfsnJ4CoqEgtvSRJTKDk54C4pEXGtkFnXGa+Zng5g/bS2zV1crO+OhZWSR6EpwRs3riSXUMhIbks5epsIZpu6BAJXk+3EwiFLZplufOooJagGSp1SDcGBaX/+gKYoVm6JslWfQHlO8/uN34LgwThv6tKSnuxFBOuu6ZOGQqBMT0d3ezFslJkZEc89Irhh5RXCSmH4Fh1YaHISwmLz/SaCi5bxgiUs0NsblQND5S40MiIau4sy961CMRMpyTAKhkBPD2hHR6JDZmRuqoVMmZ2FI6yjpEpsv7m5ueOxe3t2ho0LiYULhzcpCTxVVeAuL7euBvjGg0NDoExMiKSVS8UCpZmPtnLY7i4E+vsh0N0NgJrQ0A8Vy1FrK4TGxuySA+aknjz+OxaJNlhqoNC2EUlMRRfC4ds3OGxpAXVlxUm4KszpVPLTXUm301MZHMSO8fBQJ00xRrow2Nenn36H1n1yfyOdud3K4CsO+30JVhMZVQ9pvTDJehSlERgNvsu3Y/81TfRFs7PCqunE1IWFSMkBc1g36ospMLuusaPrOn9gL8sR1ECNXgO5UV7b8uqDesgaxHAMyQ3zmkHR2y1Kbg8RHTEg18Fr7du5ftNFB6IB8YhPVrSN5nzMa4TM9KCVfeJj32E2kR21xXPRnP0iglXE1vlJqcF6w3XSrvl5bCHPtS6UYiP4G+I+99TYP57+DZHEv++yAKF76DlWTDPg4G+IfwIMANh5ZpAw75A1AAAAAElFTkSuQmCC"},"2dc9":function(t,e,i){},"33eb":function(t,e,i){t.exports=i.p+"img/icon_like.e22003a9.png"},"36bd":function(t,e,i){"use strict";var s=i("4bf8"),n=i("77f1"),a=i("9def");t.exports=function(t){var e=s(this),i=a(e.length),o=arguments.length,r=n(o>1?arguments[1]:void 0,i),c=o>2?arguments[2]:void 0,l=void 0===c?i:n(c,i);while(l>r)e[r++]=t;return e}},"37e0":function(t,e,i){t.exports=i.p+"img/icon_hate.926d7e7f.png"},"3a8c":function(t,e,i){"use strict";var s=i("1800"),n=i.n(s);n.a},"6c7b":function(t,e,i){var s=i("5ca1");s(s.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},bfc4:function(t,e,i){"use strict";var s=i("2dc9"),n=i.n(s);n.a},ee79:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("canvas",{staticStyle:{border:"0"},attrs:{id:"myCanvas"}},[t._v("Your browser does not support the HTML5 canvas tag.\n    ")]),s("div",{staticClass:"container"},[s("div",{staticClass:"title"},[s("img",{attrs:{src:i("2240"),alt:""}}),s("p",[t._v(t._s(t.question))])]),s("ul",t._l(t.msgs,function(e,i){return s("li",{key:i},[s("div",{class:["send"===e.type?"send-wrap":"recive-wrap"]},[s("img",{staticClass:"head-img",attrs:{src:"send"===e.type?t.myAvatar:t.friendAvatar,alt:"headImg"}}),s("div",{staticClass:"message-wrap"},[t._v(t._s(e.text))])])])})),s("div",{staticClass:"bt-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msgText,expression:"msgText"}],attrs:{type:"text",name:"sendText"},domProps:{value:t.msgText},on:{input:function(e){e.target.composing||(t.msgText=e.target.value)}}}),s("button",{attrs:{id:"sendBT"},on:{click:function(e){t.sendMsg()}}},[t._v("发送")])])]),t.remainProgress.time<60&&t.remainProgress.time>=59?s("tip",{attrs:{title:"还剩一分钟哦!"}}):t._e(),t.remainProgress.time<=0?s("ping-jia",{attrs:{title:"聊天结束了啦，评价一下TA吧～"},on:{"pingjia-click":function(e){t.setPingJIa(e)}}}):t._e()],1)},n=[],a=(i("cadf"),i("551c"),i("097d"),i("6c7b"),function(t,e){var i=t,s=i.width+i.width/4,n=0,a=8,o=5,r=-i.width/4,c=i.height+5,l=i.height+10,g=i.height/10800;e.time=l/(60*g);var h=s/o,d=h/2,u=d/2,v=i.getContext("2d");function m(){if(n-=2,l-=g,e.time=l/(60*g),!(l<0)){-1*n>=h&&(n=0),v.fillStyle="#ffecec",v.fillRect(0,0,i.width,i.height);var t=0,p=i.height/6;v.font="20px Georgia",v.fillStyle="#ccb8ba";for(var A=180,f=0;A>0;f++)t=f<3?i.width/2-30/devicePixelRatio:i.width/2-20/devicePixelRatio,v.fillText(A+"",t,p*f+15),A-=30;v.beginPath(),v.arc(i.width/2,i.height-5,5,0,2*Math.PI),v.fillStyle="#ff3636",v.fill(),v.beginPath();var b=c-l;v.moveTo(r-n,b);for(var w=0;w<o;w++){var R=w*h,E=R+r-n;v.quadraticCurveTo(E+u,b+a,E+d,b),v.quadraticCurveTo(E+u+d,b-a,E+h,b)}v.lineTo(r+s,i.height),v.lineTo(r,i.height),v.fillStyle="#94cdf0",v.fill(),requestAnimationFrame(m)}}console.log(i.height+"  "+i.width),m()}),o=i("2459"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip-containner"},[s("p",{staticClass:"title"},[t._v(t._s(t.title))]),s("div",[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{id:"like",src:i("33eb"),alt:"like"},on:{click:function(e){t.pingJiaFn(0)}}}),s("span",[t._v("喜欢,还想聊")])]),s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{id:"dislike",src:i("37e0"),alt:"hate"},on:{click:function(e){t.pingJiaFn(1)}}}),s("span",[t._v("错过吧,告辞")])])])])},c=[],l={props:["title"],methods:{pingJiaFn:function(t){this.$emit("pingjia-click",t)}}},g=l,h=(i("3a8c"),i("2877")),d=Object(h["a"])(g,r,c,!1,null,"b6cd33f8",null);d.options.__file="pingjia.vue";var u=d.exports,v={data:function(){return{Ques:["有什么好玩的游戏推荐？","分享一部你最喜欢的电影","这个假期里你经历过什么有意思的事情？","分享一个你自己特有的小技能？","或许可以从你最喜欢的小动物开始聊","介绍介绍你喜欢用的小众app吧！","可以分享一下假期里有意义的事情吗？","夏天你有什么解暑续命大法？","也许可以从聊聊你们的专业开始","或许可以先来聊聊你们最近在看的书？","或许可以从聊喜欢的音乐开始","可以从最近在玩的游戏开始聊","或许可以聊聊你喜不喜欢现在的专业？"],question:"",message:"1.随机匹配 ，优先男女2.如遇违规,长按举报3.时间不定，喜欢抓紧4.多次好评，无限匹配5.随机奖励，加时续命",msgs:[],socket:null,msgText:"",remainProgress:{time:180},tipStatus:!1,pingjia:null,myAvatar:null,friendAvatar:null}},components:{Tip:o["a"],PingJia:u},methods:{getQ:function(){var t=Math.floor(Math.random()*this.Ques.length);this.question=this.Ques[t]},setPingJIa:function(t){var e=this;this.pingjia=t,this.$axios.post("/api/evaluate",{chatId:this.$store.state.chatId,evaluate:this.pingjia}).then(function(t){0===t.data.code?e.$router.push({name:"index",params:{msg:"pingjia"}}):console.log(t.data.msg)}).catch(function(t){console.log(t+"")})},initial:function(){var t=this;this.socket=new WebSocket("ws://120.27.137.151:9976/api/ws?token="+this.$store.state.token),this.socket.onopen=function(t){document.getElementById("sendBT").disabled=!1},this.socket.onmessage=function(e){var i=JSON.parse(e.data);t.msgs.push({text:i.msg,type:"recive"}),console.log(i)},this.socket.onerror=function(t){console.error(t),document.getElementById("sendBT").disabled=!0},this.socket.onclose=function(t){document.getElementById("sendBT").disabled=!0}},sendMsg:function(){""!==this.msgText&&(this.socket.send(this.msgText),this.msgs.push({text:this.msgText,type:"send"}),this.msgText="")},getAvatars:function(){var t=Math.floor(2*Math.random());0===this.$store.state.mySex?this.myAvatar=this.$store.getters.getAvatarArr(t).boy:this.myAvatar=this.$store.getters.getAvatarArr(t).girl,0===this.$store.state.friendSex?this.friendAvatar=this.$store.getters.getAvatarArr(t).boy:this.friendAvatar=this.$store.getters.getAvatarArr(t).girl}},watch:{remainProgress:{handler:function(t,e){t<0&&this.socket.close()},deep:!0}},created:function(){this.initial(),this.getQ(),this.getAvatars()},mounted:function(){var t=document.getElementById("myCanvas");t.width=window.innerWidth,t.height=window.innerHeight,a(t,this.remainProgress)}},m=v,p=(i("bfc4"),Object(h["a"])(m,s,n,!1,null,"7f091dbe",null));p.options.__file="chat.vue";e["default"]=p.exports}}]);
//# sourceMappingURL=lazy-loaded-component.8ee8072e.js.map