(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lazy-loaded-component"],{"222e":function(t,e,i){},2240:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RkNDRjlEQTlDOUQxMUU4OTc1RERDQTcxMUE5MUE3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RkNDRjlEQjlDOUQxMUU4OTc1RERDQTcxMUE5MUE3MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZGQ0NGOUQ4OUM5RDExRTg5NzVERENBNzExQTkxQTczIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZGQ0NGOUQ5OUM5RDExRTg5NzVERENBNzExQTkxQTczIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YVwEagAABBZJREFUeNrEWc1LG1EQn93EKESLHzV+ggjVtvamFsGjh+JFKXrqF16EKhZv/QfaYy9KK1YUPbRqQRBKUURE9NIqWq9Wi2hBbPxCWj+T7GY7s45i1d19u4lx4HdIMu+93+6bN/ObF2mvsREcmAtRiqhAlCDuIHIRiQgV8RexjviB+I4YR8zyb7bMbdM/D9GEeIbINCF/k3EPUcvf+xEfEG2IX6ILyoJ+PsR7xE/ESxNyZpbJY3/yXL5oEXyKmEc8R8RB5BbHc/3guR0T9CA6eVtSIfqWwnN38lq2CHoRXxD1cPVWz2t5RQnS0wwiHkDs7AGv6REh2BZjcmdJtlkRfBKjbTXb7idGBOnYv4XrN+KQcRnB13yyrtuIw6uTDxKXujxOoKZ5TnK5QEpLAykVs044DNr+Pmibm6AFg+cCRwY5KwtchYUgeb2gbW+DurwM2sYGaDhOwBTELao4J6WuyYqcnJkJnpoacBUUAMTHA2gaTqNAGAkqX7+CMjUF2sGBTshTWwvuUizV7jOVFH3V+XkIDgxAeGtLpAS/oMpDb5Bq56pZ+ZJ9Pkhobj5+cwamra1B8PNniKusBDk/39hvZwcC7e2grq5akaTanUsxWGZaW3G7PNXVpuT07c/OhviGBlNyul9KCnjq6kBKSBCp3WUySyZjfsnJ4CoqEgtvSRJTKDk54C4pEXGtkFnXGa+Zng5g/bS2zV1crO+OhZWSR6EpwRs3riSXUMhIbks5epsIZpu6BAJXk+3EwiFLZplufOooJagGSp1SDcGBaX/+gKYoVm6JslWfQHlO8/uN34LgwThv6tKSnuxFBOuu6ZOGQqBMT0d3ezFslJkZEc89Irhh5RXCSmH4Fh1YaHISwmLz/SaCi5bxgiUs0NsblQND5S40MiIau4sy961CMRMpyTAKhkBPD2hHR6JDZmRuqoVMmZ2FI6yjpEpsv7m5ueOxe3t2ho0LiYULhzcpCTxVVeAuL7euBvjGg0NDoExMiKSVS8UCpZmPtnLY7i4E+vsh0N0NgJrQ0A8Vy1FrK4TGxuySA+aknjz+OxaJNlhqoNC2EUlMRRfC4ds3OGxpAXVlxUm4KszpVPLTXUm301MZHMSO8fBQJ00xRrow2Nenn36H1n1yfyOdud3K4CsO+30JVhMZVQ9pvTDJehSlERgNvsu3Y/81TfRFs7PCqunE1IWFSMkBc1g36ospMLuusaPrOn9gL8sR1ECNXgO5UV7b8uqDesgaxHAMyQ3zmkHR2y1Kbg8RHTEg18Fr7du5ftNFB6IB8YhPVrSN5nzMa4TM9KCVfeJj32E2kR21xXPRnP0iglXE1vlJqcF6w3XSrvl5bCHPtS6UYiP4G+I+99TYP57+DZHEv++yAKF76DlWTDPg4G+IfwIMANh5ZpAw75A1AAAAAElFTkSuQmCC"},"33eb":function(t,e,i){t.exports=i.p+"img/icon_like.e22003a9.png"},"37e0":function(t,e,i){t.exports=i.p+"img/icon_hate.926d7e7f.png"},4732:function(t,e,i){"use strict";var n=i("03a4"),s=i("0c1c"),a=i("5896");t.exports=function(t){var e=n(this),i=a(e.length),o=arguments.length,c=s(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,r=void 0===l?i:s(l,i);while(r>c)e[c++]=t;return e}},"4e26":function(t,e,i){var n=i("8718");n(n.P,"Array",{fill:i("4732")}),i("ccb3")("fill")},8570:function(t,e,i){},ce6e:function(t,e,i){"use strict";var n=i("222e"),s=i.n(n);s.a},e5b5:function(t,e,i){"use strict";var n=i("8570"),s=i.n(n);s.a},ee79:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("canvas",{staticStyle:{border:"0"},attrs:{id:"myCanvas"}},[t._v("Your browser does not support the HTML5 canvas tag.\n    ")]),n("div",{staticClass:"container"},[n("div",{staticClass:"title"},[n("img",{attrs:{src:i("2240"),alt:""}}),n("p",[t._v(t._s(t.myTitle))])]),n("ul",{staticClass:"msg-ul",attrs:{id:"msgul"}},t._l(t.msgs,function(e,i){return n("li",{key:i},[n("div",{class:["send"===e.type?"send-wrap":"recive-wrap"]},[n("img",{staticClass:"head-img",attrs:{src:"send"===e.type?t.myAvatar:t.friendAvatar,alt:"headImg"}}),n("div",{staticClass:"message-wrap"},[t._v(t._s(e.text))])])])})),n("div",{staticClass:"bt-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msgText,expression:"msgText"}],attrs:{type:"text",name:"sendText"},domProps:{value:t.msgText},on:{input:function(e){e.target.composing||(t.msgText=e.target.value)}}}),n("button",{attrs:{id:"sendBT"},on:{click:function(e){t.sendMsg()}}},[t._v("发送")])])]),t.remainProgress.time<60&&t.remainProgress.time>=58.5?n("tip",{attrs:{title:"还剩一分钟哦!"}}):t._e(),""!==t.tipTitle?n("tip",{attrs:{title:t.tipTitle}}):t._e(),t.remainProgress.time<=0?n("ping-jia",{attrs:{title:"聊天结束了啦，评价一下TA吧～"},on:{"pingjia-click":function(e){t.setPingJIa(e)}}}):t._e()],1)},s=[],a=(i("3a0f"),i("a3a3"),i("4d0b"),i("4e26"),function(t,e){var i=t,n=i.width+i.width/4,s=0,a=8,o=5,c=-i.width/4,l=i.height+5,r=i.height+10,u=i.height/10800;e.time=r/(60*u);var g=n/o,d=g/2,h=d/2,m=i.getContext("2d");function p(){if(s-=2,r-=u,e.time=r/(60*u),!(r<0)){-1*s>=g&&(s=0),m.fillStyle="#ffecec",m.fillRect(0,0,i.width,i.height);var t=0,v=i.height/6;m.font="20px Georgia",m.fillStyle="#ccb8ba";for(var f=180,b=0;f>0;b++)t=b<3?i.width/2-30/devicePixelRatio:i.width/2-20/devicePixelRatio,m.fillText(f+"",t,v*b+15),f-=30;m.beginPath(),m.arc(i.width/2,i.height-5,5,0,2*Math.PI),m.fillStyle="#ff3636",m.fill(),m.beginPath();var T=l-r;m.moveTo(c-s,T);for(var A=0;A<o;A++){var w=A*g,E=w+c-s;m.quadraticCurveTo(E+h,T+a,E+d,T),m.quadraticCurveTo(E+h+d,T-a,E+g,T)}m.lineTo(c+n,i.height),m.lineTo(c,i.height),m.fillStyle="#94cdf0",m.fill(),requestAnimationFrame(p)}}console.log(i.height+"  "+i.width),p()}),o=i("2459"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tip-containner"},[n("p",{staticClass:"title"},[t._v(t._s(t.title))]),n("div",[n("div",{staticClass:"avatar-wrap"},[n("img",{attrs:{id:"like",src:i("33eb"),alt:"like"},on:{click:function(e){t.pingJiaFn(0)}}}),n("span",[t._v("喜欢,还想聊")])]),n("div",{staticClass:"avatar-wrap"},[n("img",{attrs:{id:"dislike",src:i("37e0"),alt:"hate"},on:{click:function(e){t.pingJiaFn(1)}}}),n("span",[t._v("错过吧,告辞")])])])])},l=[],r={props:["title"],methods:{pingJiaFn:function(t){this.$emit("pingjia-click",t)}}},u=r,g=(i("ce6e"),i("048f")),d=Object(g["a"])(u,c,l,!1,null,"71f3764f",null);d.options.__file="pingjia.vue";var h=d.exports,m={data:function(){return{message:"1.随机匹配 ，优先男女2.如遇违规,长按举报3.时间不定，喜欢抓紧4.多次好评，无限匹配5.随机奖励，加时续命",msgs:[],socket:null,msgText:"",remainProgress:{time:180},pingjia:null,tipTitle:""}},components:{Tip:o["a"],PingJia:h},methods:{setPingJIa:function(t){var e=this;this.pingjia=t,this.$axios.post("/api/evaluate",{chatId:this.$store.state.chatId,evaluate:this.pingjia}).then(function(t){0===t.data.code?e.$router.push({name:"index",params:{msg:"pingjia"}}):console.log(t.data.msg)}).catch(function(t){console.log(t+"")})},initial:function(){var t=this;this.socket=new WebSocket("ws://120.27.137.151:9976/api/ws?token="+this.$store.state.token),this.socket.onopen=function(t){document.getElementById("sendBT").disabled=!1},this.socket.onmessage=function(e){var i=JSON.parse(e.data);5===i.code?(t.tipTitle="用户已下线",setTimeout(function(){t.tipTitle="",t.$router.push("/index")},1500)):t.msgs.push({text:i.msg,type:"recive"}),console.log(i)},this.socket.onerror=function(t){console.error(t),document.getElementById("sendBT").disabled=!0},this.socket.onclose=function(t){document.getElementById("sendBT").disabled=!0}},sendMsg:function(){""!==this.msgText&&(this.socket.send(this.msgText),this.msgs.push({text:this.msgText,type:"send"}),setTimeout(this.autoScroll,200),this.msgText="")},autoScroll:function(){var t=document.getElementById("msgul");t.scrollTop=t.scrollHeight+10},getHeight:function(){this.bodyHeight=document.documentElement.clientHeight,document.documentElement.style.fontSize=this.bodyHeight/20+"px"}},watch:{remainProgress:{handler:function(t,e){t<0&&this.socket.close()},deep:!0}},created:function(){this.initial(),this.getHeight()},mounted:function(){var t=document.getElementById("myCanvas");t.width=window.innerWidth,t.height=window.innerHeight,a(t,this.remainProgress)},computed:{myTitle:function(){return this.$store.state.title},myAvatar:function(){return this.$store.state.avatar},friendAvatar:function(){return this.$store.state.friendAvatar}}},p=m,v=(i("e5b5"),Object(g["a"])(p,n,s,!1,null,"35e733f8",null));v.options.__file="chat.vue";e["default"]=v.exports}}]);
//# sourceMappingURL=lazy-loaded-component.06c02d4c.js.map